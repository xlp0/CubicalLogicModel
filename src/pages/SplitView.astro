---
import Layout from '../layouts/Layout.astro';
import SplitLayout from '../components/SplitLayout';
import FloatingNav from '../components/FloatingNav';

const defaultComponent = "Notes";

const panes = [
  {
    importPath: "SearchableCardsFromDB",
    width: "250px",
    minWidth: "40px",
    componentProps: {
      title: "Component Library",
      isCompact: "auto"
    }
  },
  {
    width: "calc(100% - 650px)",
    minWidth: "400px",
    split: {
      direction: 'vertical',
      sizes: [50, 50],
      panes: [
        {
          importPath: "Notes",
          minWidth: "300px",
          componentProps: {
            title: "Notes"
          }
        },
        {
          importPath: "ThreeJsCube",
          minWidth: "300px",
          componentProps: {
            title: "Model Cards"
          }
        }
      ]
    }
  },
  {
    importPath: "YouTubePlayer",
    width: "400px",
    minWidth: "300px",
    componentProps: {
      title: "Tutorial",
      videoId: "LWQqE2JcDSQ"
    }
  }
];
---

<Layout title="Split View">
  <div class="h-screen w-screen bg-gray-900 text-gray-100 overflow-hidden">
    <FloatingNav client:only="react" />
    <div class="h-full w-full">
      <SplitLayout client:only="react" panes={panes} />
    </div>
  </div>
</Layout>

<style>
  :global(.gutter) {
    background-color: #4a5568;
    transition: background-color 0.2s ease;
  }

  :global(.gutter:hover) {
    background-color: #667eea;
  }

  :global(.gutter.gutter-horizontal) {
    cursor: col-resize;
    width: 8px;
  }

  :global(.gutter.gutter-vertical) {
    cursor: row-resize;
    height: 8px;
  }

  :global(.vertical-split) {
    display: flex;
    flex-direction: column;
  }

  :global(.main-split) {
    display: flex;
    flex-direction: row;
  }
</style>
